{
  "id": "KD1EZ",
  "name": "Davide 的 1v1 房间",
  "status": "in-progress",
  "createdAt": 1771765078602,
  "maxPlayers": 2,
  "players": [
    {
      "id": "user_1771763839460_842",
      "name": "Davide",
      "joinedAt": 1771765078857,
      "faction": "blue",
      "hasSelectedPieces": true,
      "selectedPieces": [
        {
          "templateId": "anduin",
          "faction": "blue"
        },
        {
          "templateId": "blue-archer",
          "faction": "blue"
        },
        {
          "templateId": "blue-mage",
          "faction": "blue"
        },
        {
          "templateId": "blue-warrior",
          "faction": "blue"
        },
        {
          "templateId": "jaina",
          "faction": "blue"
        }
      ]
    },
    {
      "id": "user_1771484840385_7362",
      "name": "yogdizewa",
      "joinedAt": 1771765094646,
      "faction": "red",
      "hasSelectedPieces": true,
      "selectedPieces": [
        {
          "templateId": "red-archer",
          "faction": "red"
        },
        {
          "templateId": "red-doomsday-fist",
          "faction": "red"
        },
        {
          "templateId": "red-mage",
          "faction": "red"
        },
        {
          "templateId": "red-nilasec",
          "faction": "red"
        },
        {
          "templateId": "red-reaper",
          "faction": "red"
        },
        {
          "templateId": "red-warrior",
          "faction": "red"
        }
      ]
    }
  ],
  "hostId": "user_1771763839460_842",
  "mapId": "large-battlefield",
  "visibility": "public",
  "currentTurnIndex": 0,
  "actions": [],
  "battleState": {
    "map": {
      "id": "large-battlefield",
      "name": "大型战场",
      "width": 20,
      "height": 16,
      "tiles": [
        {
          "id": "large-battlefield-0-0",
          "x": 0,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-0",
          "x": 1,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-2-0",
          "x": 2,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-0",
          "x": 3,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-0",
          "x": 4,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-5-0",
          "x": 5,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-6-0",
          "x": 6,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-0",
          "x": 7,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-0",
          "x": 8,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-0",
          "x": 9,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-10-0",
          "x": 10,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-11-0",
          "x": 11,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-0",
          "x": 12,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-0",
          "x": 13,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-0",
          "x": 14,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-15-0",
          "x": 15,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-16-0",
          "x": 16,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-0",
          "x": 17,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-0",
          "x": 18,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-19-0",
          "x": 19,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-1",
          "x": 0,
          "y": 1,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-1",
          "x": 1,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-1",
          "x": 2,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-1",
          "x": 3,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-1",
          "x": 4,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-1",
          "x": 5,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-1",
          "x": 6,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-1",
          "x": 7,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-1",
          "x": 8,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-1",
          "x": 9,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-1",
          "x": 10,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-1",
          "x": 11,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-1",
          "x": 12,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-1",
          "x": 13,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-1",
          "x": 14,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-1",
          "x": 15,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-1",
          "x": 16,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-1",
          "x": 17,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-1",
          "x": 18,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-1",
          "x": 19,
          "y": 1,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-2",
          "x": 0,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-2",
          "x": 1,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-2",
          "x": 2,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-2",
          "x": 3,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-2",
          "x": 4,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-2",
          "x": 5,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-2",
          "x": 6,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-2",
          "x": 7,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-2",
          "x": 8,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-2",
          "x": 9,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-2",
          "x": 10,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-2",
          "x": 11,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-2",
          "x": 12,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-2",
          "x": 13,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-2",
          "x": 14,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-2",
          "x": 15,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-2",
          "x": 16,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-2",
          "x": 17,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-2",
          "x": 18,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-2",
          "x": 19,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-3",
          "x": 0,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-3",
          "x": 1,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-3",
          "x": 2,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-3",
          "x": 3,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-3",
          "x": 4,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-3",
          "x": 5,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-3",
          "x": 6,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-3",
          "x": 7,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-3",
          "x": 8,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-3",
          "x": 9,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-3",
          "x": 10,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-3",
          "x": 11,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-3",
          "x": 12,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-3",
          "x": 13,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-3",
          "x": 14,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-3",
          "x": 15,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-3",
          "x": 16,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-3",
          "x": 17,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-3",
          "x": 18,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-3",
          "x": 19,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-4",
          "x": 0,
          "y": 4,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-4",
          "x": 1,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-4",
          "x": 2,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-4",
          "x": 3,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-4",
          "x": 4,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-4",
          "x": 5,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-4",
          "x": 6,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-4",
          "x": 7,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-4",
          "x": 8,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-4",
          "x": 9,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-4",
          "x": 10,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-4",
          "x": 11,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-4",
          "x": 12,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-4",
          "x": 13,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-4",
          "x": 14,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-4",
          "x": 15,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-4",
          "x": 16,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-4",
          "x": 17,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-4",
          "x": 18,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-4",
          "x": 19,
          "y": 4,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-5",
          "x": 0,
          "y": 5,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-5",
          "x": 1,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-5",
          "x": 2,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-5",
          "x": 3,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-4-5",
          "x": 4,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-5",
          "x": 5,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-5",
          "x": 6,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-5",
          "x": 7,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-5",
          "x": 8,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-9-5",
          "x": 9,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-5",
          "x": 10,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-5",
          "x": 11,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-5",
          "x": 12,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-5",
          "x": 13,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-14-5",
          "x": 14,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-5",
          "x": 15,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-5",
          "x": 16,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-5",
          "x": 17,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-5",
          "x": 18,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-19-5",
          "x": 19,
          "y": 5,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-6",
          "x": 0,
          "y": 6,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-6",
          "x": 1,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-6",
          "x": 2,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-6",
          "x": 3,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-6",
          "x": 4,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-6",
          "x": 5,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-6",
          "x": 6,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-6",
          "x": 7,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-6",
          "x": 8,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-6",
          "x": 9,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-6",
          "x": 10,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-6",
          "x": 11,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-6",
          "x": 12,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-6",
          "x": 13,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-6",
          "x": 14,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-6",
          "x": 15,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-6",
          "x": 16,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-6",
          "x": 17,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-6",
          "x": 18,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-6",
          "x": 19,
          "y": 6,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-7",
          "x": 0,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-7",
          "x": 1,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-7",
          "x": 2,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-7",
          "x": 3,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-7",
          "x": 4,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-7",
          "x": 5,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-7",
          "x": 6,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-7",
          "x": 7,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-7",
          "x": 8,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-7",
          "x": 9,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-7",
          "x": 10,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-7",
          "x": 11,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-7",
          "x": 12,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-7",
          "x": 13,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-7",
          "x": 14,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-7",
          "x": 15,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-7",
          "x": 16,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-7",
          "x": 17,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-7",
          "x": 18,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-7",
          "x": 19,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-8",
          "x": 0,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-8",
          "x": 1,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-8",
          "x": 2,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-8",
          "x": 3,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-8",
          "x": 4,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-8",
          "x": 5,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-8",
          "x": 6,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-8",
          "x": 7,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-8",
          "x": 8,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-8",
          "x": 9,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-8",
          "x": 10,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-8",
          "x": 11,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-8",
          "x": 12,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-8",
          "x": 13,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-8",
          "x": 14,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-8",
          "x": 15,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-8",
          "x": 16,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-8",
          "x": 17,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-8",
          "x": 18,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-8",
          "x": 19,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-9",
          "x": 0,
          "y": 9,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-9",
          "x": 1,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-9",
          "x": 2,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-9",
          "x": 3,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-9",
          "x": 4,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-9",
          "x": 5,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-9",
          "x": 6,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-9",
          "x": 7,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-9",
          "x": 8,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-9",
          "x": 9,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-9",
          "x": 10,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-9",
          "x": 11,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-9",
          "x": 12,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-9",
          "x": 13,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-9",
          "x": 14,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-9",
          "x": 15,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-9",
          "x": 16,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-9",
          "x": 17,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-9",
          "x": 18,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-9",
          "x": 19,
          "y": 9,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-10",
          "x": 0,
          "y": 10,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-10",
          "x": 1,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-10",
          "x": 2,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-10",
          "x": 3,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-4-10",
          "x": 4,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-10",
          "x": 5,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-10",
          "x": 6,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-10",
          "x": 7,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-10",
          "x": 8,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-9-10",
          "x": 9,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-10",
          "x": 10,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-10",
          "x": 11,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-10",
          "x": 12,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-10",
          "x": 13,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-14-10",
          "x": 14,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-10",
          "x": 15,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-10",
          "x": 16,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-10",
          "x": 17,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-10",
          "x": 18,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-19-10",
          "x": 19,
          "y": 10,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-11",
          "x": 0,
          "y": 11,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-11",
          "x": 1,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-11",
          "x": 2,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-11",
          "x": 3,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-11",
          "x": 4,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-11",
          "x": 5,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-11",
          "x": 6,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-11",
          "x": 7,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-11",
          "x": 8,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-11",
          "x": 9,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-11",
          "x": 10,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-11",
          "x": 11,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-11",
          "x": 12,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-11",
          "x": 13,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-11",
          "x": 14,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-11",
          "x": 15,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-11",
          "x": 16,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-11",
          "x": 17,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-11",
          "x": 18,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-11",
          "x": 19,
          "y": 11,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-12",
          "x": 0,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-12",
          "x": 1,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-12",
          "x": 2,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-12",
          "x": 3,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-12",
          "x": 4,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-12",
          "x": 5,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-12",
          "x": 6,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-12",
          "x": 7,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-12",
          "x": 8,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-12",
          "x": 9,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-12",
          "x": 10,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-12",
          "x": 11,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-12",
          "x": 12,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-12",
          "x": 13,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-12",
          "x": 14,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-12",
          "x": 15,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-12",
          "x": 16,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-12",
          "x": 17,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-12",
          "x": 18,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-12",
          "x": 19,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-13",
          "x": 0,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-13",
          "x": 1,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-13",
          "x": 2,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-13",
          "x": 3,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-13",
          "x": 4,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-13",
          "x": 5,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-13",
          "x": 6,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-13",
          "x": 7,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-13",
          "x": 8,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-13",
          "x": 9,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-13",
          "x": 10,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-13",
          "x": 11,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-13",
          "x": 12,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-13",
          "x": 13,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-13",
          "x": 14,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-13",
          "x": 15,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-13",
          "x": 16,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-13",
          "x": 17,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-13",
          "x": 18,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-13",
          "x": 19,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-14",
          "x": 0,
          "y": 14,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-14",
          "x": 1,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-14",
          "x": 2,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-14",
          "x": 3,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-14",
          "x": 4,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-14",
          "x": 5,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-14",
          "x": 6,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-14",
          "x": 7,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-14",
          "x": 8,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-14",
          "x": 9,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-14",
          "x": 10,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-14",
          "x": 11,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-14",
          "x": 12,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-14",
          "x": 13,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-14",
          "x": 14,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-14",
          "x": 15,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-14",
          "x": 16,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-14",
          "x": 17,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-14",
          "x": 18,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-14",
          "x": 19,
          "y": 14,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-15",
          "x": 0,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-15",
          "x": 1,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-2-15",
          "x": 2,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-15",
          "x": 3,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-15",
          "x": 4,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-5-15",
          "x": 5,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-6-15",
          "x": 6,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-15",
          "x": 7,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-15",
          "x": 8,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-15",
          "x": 9,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-10-15",
          "x": 10,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-11-15",
          "x": 11,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-15",
          "x": 12,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-15",
          "x": 13,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-15",
          "x": 14,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-15-15",
          "x": 15,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-16-15",
          "x": 16,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-15",
          "x": 17,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-15",
          "x": 18,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-19-15",
          "x": 19,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        }
      ]
    },
    "pieces": [
      {
        "instanceId": "user_1771484840385_7362-1",
        "templateId": "red-archer",
        "name": "红方射手",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 9,
        "maxHp": 9,
        "attack": 3,
        "defense": 0,
        "moveRange": 4,
        "x": 5,
        "y": 7,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "buff-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771484840385_7362-2",
        "templateId": "red-doomsday-fist",
        "name": "末日铁拳",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 13,
        "maxHp": 13,
        "attack": 2,
        "defense": 1,
        "moveRange": 3,
        "x": 4,
        "y": 7,
        "skills": [
          {
            "skillId": "rocket-punch",
            "currentCooldown": 1,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "hardy-block",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "hand-cannon",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "earthshatter",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ],
        "statusTags": [
          {
            "relatedRules": []
          }
        ]
      },
      {
        "instanceId": "user_1771484840385_7362-3",
        "templateId": "red-mage",
        "name": "红方法师",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 8,
        "maxHp": 8,
        "attack": 6,
        "defense": 0,
        "moveRange": 2,
        "x": 5,
        "y": 10,
        "skills": [
          {
            "skillId": "teleport",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771484840385_7362-4",
        "templateId": "red-nilasec",
        "name": "尼拉塞克",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 10,
        "maxHp": 10,
        "attack": 3,
        "defense": 0,
        "moveRange": 2,
        "x": 18,
        "y": 14,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "evil-explosion",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "bone-prison",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "white-bone-storm",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771484840385_7362-5",
        "templateId": "red-reaper",
        "name": "死神",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 15,
        "maxHp": 15,
        "attack": 3,
        "defense": 1,
        "moveRange": 2,
        "x": 15,
        "y": 14,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "soul-harvest",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771484840385_7362-6",
        "templateId": "red-warrior",
        "name": "红方战士",
        "ownerPlayerId": "user_1771484840385_7362",
        "faction": "red",
        "currentHp": 9,
        "maxHp": 15,
        "attack": 2,
        "defense": 0,
        "moveRange": 3,
        "x": 17,
        "y": 5,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "shield",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771763839460_842-1",
        "templateId": "anduin",
        "name": "安度因",
        "ownerPlayerId": "user_1771763839460_842",
        "faction": "blue",
        "currentHp": 6,
        "maxHp": 10,
        "attack": 3,
        "defense": 1,
        "moveRange": 3,
        "x": 5,
        "y": 9,
        "skills": [
          {
            "skillId": "light-of-the-light",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "shield-of-light",
            "currentCooldown": 1,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "holy-light-descend",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771763839460_842-2",
        "templateId": "blue-archer",
        "name": "蓝方射手",
        "ownerPlayerId": "user_1771763839460_842",
        "faction": "blue",
        "currentHp": 9,
        "maxHp": 9,
        "attack": 3,
        "defense": 0,
        "moveRange": 4,
        "x": 4,
        "y": 6,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "buff-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "divine-shield-defense",
            "currentCooldown": 0
          }
        ],
        "statusTags": [
          {
            "id": "divine-shield",
            "type": "divine-shield",
            "currentDuration": -1,
            "currentUses": -1,
            "intensity": 1,
            "stacks": 1,
            "relatedRules": [
              "rule-divine-shield"
            ]
          }
        ],
        "rules": [
          {
            "id": "rule-divine-shield",
            "name": "圣盾效果",
            "description": "当拥有圣盾状态时，受到伤害会抵挡一次伤害并移除圣盾效果",
            "trigger": {
              "type": "beforeDamageTaken"
            },
            "relatedStatusTags": [
              "divine-shield"
            ]
          }
        ]
      },
      {
        "instanceId": "user_1771763839460_842-3",
        "templateId": "blue-mage",
        "name": "蓝方法师",
        "ownerPlayerId": "user_1771763839460_842",
        "faction": "blue",
        "currentHp": 8,
        "maxHp": 8,
        "attack": 6,
        "defense": 0,
        "moveRange": 2,
        "x": 4,
        "y": 3,
        "skills": [
          {
            "skillId": "teleport",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771763839460_842-4",
        "templateId": "blue-warrior",
        "name": "蓝方战士",
        "ownerPlayerId": "user_1771763839460_842",
        "faction": "blue",
        "currentHp": 15,
        "maxHp": 15,
        "attack": 2,
        "defense": 0,
        "moveRange": 3,
        "x": 12,
        "y": 10,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "shield",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771763839460_842-5",
        "templateId": "jaina",
        "name": "吉安娜",
        "ownerPlayerId": "user_1771763839460_842",
        "faction": "blue",
        "currentHp": 10,
        "maxHp": 10,
        "attack": 4,
        "defense": 0,
        "moveRange": 4,
        "x": 9,
        "y": 10,
        "skills": [
          {
            "skillId": "frostbolt",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 1,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "blizzard",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      }
    ],
    "graveyard": [],
    "pieceStatsByTemplateId": {
      "red-warrior": {
        "maxHp": 120,
        "attack": 20,
        "defense": 5,
        "moveRange": 3
      },
      "blue-warrior": {
        "maxHp": 120,
        "attack": 20,
        "defense": 5,
        "moveRange": 3
      }
    },
    "skillsById": {
      "arcane-burst": {
        "id": "arcane-burst",
        "name": "奥术爆发",
        "description": "选择一个格子进行传送，传送后提升自身攻击力并对周围敌人造成伤害",
        "icon": "💥",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetPos = selectTarget({ type: 'grid', range: 5, filter: 'all' }); if (!targetPos || targetPos.needsTargetSelection) { return targetPos; } const pieceAtPos = context.battle.pieces.find(p => p.x === targetPos.x && p.y === targetPos.y && p.currentHp > 0); if (pieceAtPos) { return { message: '该位置已有棋子，无法传送', success: false }; } sourcePiece.x = targetPos.x; sourcePiece.y = targetPos.y; const buffValue = 15; sourcePiece.attack += buffValue; const damageValue = sourcePiece.attack * 2.5; const enemies = context.battle.pieces.filter(enemy => { if (enemy.ownerPlayerId === sourcePiece.ownerPlayerId || enemy.currentHp <= 0) return false; const distance = Math.abs(enemy.x - sourcePiece.x) + Math.abs(enemy.y - sourcePiece.y); return distance <= 5; }); enemies.forEach(enemy => { dealDamage(sourcePiece, enemy, damageValue, 'magical', context.battle, context.skill.id); }); return { message: sourcePiece.name + ' 激活了奥术爆发，提升攻击力' + buffValue + '点，对' + enemies.length + '个敌人造成' + damageValue + '点伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '选择一个格子进行传送，传送后提升自身攻击力并对周围敌人造成伤害', expectedValues: { buff: 15 } }; }"
      },
      "arcane-combination": {
        "id": "arcane-combination",
        "name": "奥术组合",
        "description": "选择一个格子进行传送，传送后提升自身攻击力并对周围敌人造成伤害",
        "icon": "💫",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetPos = selectTarget({ type: 'grid', range: 10, filter: 'all' }); if (!targetPos || targetPos.needsTargetSelection) { return targetPos; } sourcePiece.x = targetPos.x; sourcePiece.y = targetPos.y; const buffValue = 10; sourcePiece.attack += buffValue; const damageValue = 50; const enemies = context.battle.pieces.filter(enemy => { if (enemy.ownerPlayerId === sourcePiece.ownerPlayerId || enemy.currentHp <= 0) return false; const distance = Math.abs(enemy.x - sourcePiece.x) + Math.abs(enemy.y - sourcePiece.y); return distance <= 5; }); enemies.forEach(enemy => { dealDamage(sourcePiece, enemy, damageValue, 'magical', context.battle, context.skill.id); }); return { message: sourcePiece.name + ' 激活了奥术组合，提升攻击力' + buffValue + '点，对' + enemies.length + '个敌人造成' + damageValue + '点伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '选择一个格子进行传送，传送后提升自身攻击力并对周围敌人造成伤害', expectedValues: { buff: 10, damage: 50 } }; }"
      },
      "basic-attack": {
        "id": "basic-attack",
        "name": "基础攻击",
        "description": "选择1格内一个目标，对其造成等同于自身攻击力的伤害",
        "icon": "⚔️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) { const targetEnemy = selectTarget({ type: 'piece', range: 1, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } // 确保攻击力和威力系数都是有效的数字 const attack = Number(sourcePiece.attack) || 0; const powerMultiplier = Number(context.skill.powerMultiplier) || 1; const damageValue = attack * powerMultiplier; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'physical', context.battle, context.skill.id); return { message: sourcePiece.name + ' 造成 ' + damageResult.damage + ' 点伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: \"选择1格内一个目标，造成\" + damageValue + \"点伤害（相当于自身攻击力）\", expectedValues: { damage: damageValue } }; }"
      },
      "bleeding-blade-json": {
        "id": "bleeding-blade-json",
        "name": "出血之刃",
        "description": "对5格内一个敌人造成伤害并施加流血状态",
        "icon": "🗡️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { \n  const caster = context.piece;\n  const targetEnemy = selectTarget({ type: 'piece', range: 5, filter: 'enemy' });\n  if (!targetEnemy || targetEnemy.needsTargetSelection) {\n    return targetEnemy;\n  }\n  // 计算伤害\n  const damage = Math.round(caster.attack * context.skill.powerMultiplier);\n  const damageResult = dealDamage(caster, targetEnemy, damage, 'physical', context.battle, context.skill.id);\n  if (damageResult.success) {\n    addStatusEffectById(targetEnemy.instanceId, 'bleeding');\n  }\n  return { message: caster.name + '使用出血之刃，对' + targetEnemy.name + '造成' + damage + '点伤害，并施加了流血状态', success: true };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '对5格内一个敌人造成伤害并施加流血状态', expectedValues: { damage: piece.attack } }; }"
      },
      "bleeding-blade": {
        "id": "bleeding-blade",
        "name": "出血之刃",
        "description": "对5格内一个敌人造成伤害并施加流血状态",
        "icon": "🗡️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetEnemy = selectTarget({ type: 'piece', range: 5, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } const damage = Math.round(sourcePiece.attack * context.skill.powerMultiplier); const damageResult = dealDamage(sourcePiece, targetEnemy, damage, 'physical', context.battle, context.skill.id); if (damageResult.success) { addStatusEffectById(targetEnemy.instanceId, 'bleeding'); } return { message: sourcePiece.name + '使用出血之刃，对' + targetEnemy.name + '造成' + damage + '点伤害，并施加了流血状态', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '对5格内一个敌人造成伤害并施加流血状态', expectedValues: { damage: piece.attack } }; }"
      },
      "blizzard-effect": {
        "id": "blizzard-effect",
        "name": "暴风雪效果",
        "description": "暴风雪区域对敌人造成伤害并施加冰冻效果",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 0,
        "code": "function executeSkill(context) { if (!context.battle.blizzardAreas || context.battle.blizzardAreas.length === 0) { return { message: '没有暴风雪区域', success: false }; } if (!context.playerId) { return { message: '没有玩家信息', success: false }; } let totalDamage = 0; let totalEnemies = 0; let enemyNames = []; let blizzardDetails = []; let casterPlayerId = null; context.battle.blizzardAreas.forEach(blizzardArea => { const caster = context.battle.pieces.find(p => p.instanceId === blizzardArea.casterId); if (caster) { casterPlayerId = caster.ownerPlayerId; } }); if (!casterPlayerId) { return { message: '没有找到施法者', success: false }; } if (casterPlayerId === context.playerId) { return { message: '暴风雪只在对方回合结束时触发', success: false }; } context.battle.blizzardAreas.forEach(blizzardArea => { const enemiesInArea = context.battle.pieces.filter(piece => { if (piece.ownerPlayerId === casterPlayerId) return false; const distanceX = Math.abs(piece.x - blizzardArea.center.x); const distanceY = Math.abs(piece.y - blizzardArea.center.y); return distanceX <= blizzardArea.radius && distanceY <= blizzardArea.radius && piece.currentHp > 0; }); enemiesInArea.forEach(enemy => { const caster = context.battle.pieces.find(p => p.instanceId === blizzardArea.casterId) || context.battle.pieces.find(p => p.ownerPlayerId === casterPlayerId); if (caster) { const damageResult = dealDamage(caster, enemy, blizzardArea.damage, 'magical', context.battle, 'blizzard'); if (typeof addStatusEffectById === 'function' && damageResult.success) { addStatusEffectById(enemy.instanceId, 'freeze', 1); enemy.showFreezeEffect = true; } totalDamage += damageResult.damage; totalEnemies++; enemyNames.push(enemy.name); } }); blizzardDetails.push('中心(' + blizzardArea.center.x + ',' + blizzardArea.center.y + ')'); if (!context.battle.effects) { context.battle.effects = []; } for (let x = blizzardArea.center.x - blizzardArea.radius; x <= blizzardArea.center.x + blizzardArea.radius; x++) { for (let y = blizzardArea.center.y - blizzardArea.radius; y <= blizzardArea.center.y + blizzardArea.radius; y++) { context.battle.effects.push({ type: 'blizzard', position: { x, y }, duration: 1, zIndex: 999, showOnUI: true }); } } }); context.battle.blizzardAreas = []; let message = '暴风雪效果'; if (blizzardDetails.length > 0) { message += '（中心坐标：' + blizzardDetails.join(', ') + '）'; } if (totalEnemies > 0) { message += '对'; if (enemyNames.length > 0) { message += enemyNames.join('、'); } message += '造成了' + totalDamage + '点伤害并使其冰冻'; } else { message += '没有对任何敌人造成伤害'; } return { message: message, success: true, showUIEffects: true }; }",
        "showInUI": false
      },
      "blizzard": {
        "id": "blizzard",
        "name": "暴风雪",
        "description": "选择全局任意一个格子，以该格子为中心创造3*3格的暴风雪区域，对方的回合结束时对其中所有敌人造成当前攻击力1.5倍的伤害和1回合冰冻",
        "icon": "🌪️",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 3,
        "maxCharges": 3,
        "chargeCost": 2,
        "powerMultiplier": 1.5,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const targetPosition = selectTarget({ type: 'grid', range: 10, filter: 'all' }); if (!targetPosition || targetPosition.needsTargetSelection) { return targetPosition; } const blizzardArea = { center: { x: targetPosition.x, y: targetPosition.y }, radius: 1, damage: damageValue, casterId: sourcePiece.instanceId }; if (!context.battle.blizzardAreas) { context.battle.blizzardAreas = []; } context.battle.blizzardAreas.push(blizzardArea); return { message: sourcePiece.templateId + '在(' + targetPosition.x + ',' + targetPosition.y + ')创造了暴风雪区域，将在对方回合结束时对3x3格范围内的敌人造成' + damageValue + '点伤害并使其冰冻', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '选择全局任意位置，创造3*3格的暴风雪区域，对方回合结束时对其中所有敌人造成' + damageValue + '点伤害（相当于攻击力150%）和1回合冰冻', expectedValues: { damage: damageValue } }; }",
        "range": "area",
        "areaSize": 3
      },
      "bone-prison": {
        "id": "bone-prison",
        "name": "骨牢",
        "description": "对距离6以内的一名角色使用，使其无法移动2回合",
        "icon": "🔒",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 3,
        "code": "function executeSkill(context) { const targetPiece = selectTarget({ type: 'piece', range: 6, filter: 'all' }); if (!targetPiece || targetPiece.needsTargetSelection) { return targetPiece; } if (typeof addStatusEffectById === 'function') { addStatusEffectById(targetPiece.instanceId, 'immobilize', 2); } return { message: sourcePiece.templateId + '对' + targetPiece.templateId + '使用骨牢，使其无法移动2回合', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '对距离6以内的一名角色使用，使其无法移动2回合', expectedValues: {} }; }",
        "range": "single"
      },
      "buff-attack": {
        "id": "buff-attack",
        "name": "攻击力增强",
        "description": "提升自身攻击力",
        "icon": "💪",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) {\n  // 直接修改自身的攻击力\nsourcePiece.attack = sourcePiece.attack + 1;\n  \n  return {\n    message: sourcePiece.name + '的攻击力提升至' + sourcePiece.attack + '点',\n    success: true\n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '提升自身攻击力', expectedValues: { buff: 1 } }; }"
      },
      "divine-shield-defense": {
        "id": "divine-shield-defense",
        "name": "圣盾防御",
        "description": "当拥有圣盾状态时，抵挡一次伤害并移除圣盾效果",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) { const piece = context.piece; const damage = context.damage; let hasDivineShield = false; if (piece.statusTags) { hasDivineShield = piece.statusTags.some(tag => tag.type === 'divine-shield'); } if (!hasDivineShield) { return { success: true, blocked: false, message: '' }; } if (!damage || damage <= 0) { return { success: true, blocked: false, message: '没有伤害需要抵挡' }; } if (typeof removeStatusEffectById === 'function') { removeStatusEffectById(piece.instanceId, 'divine-shield'); } if (typeof removeRuleById === 'function') { removeRuleById(piece.instanceId, 'rule-divine-shield'); } if (typeof piece.skills !== 'undefined') { piece.skills = piece.skills.filter(skill => skill.skillId !== 'divine-shield-defense'); } const attacker = context.target ? context.target.name : '未知敌人'; return { success: true, blocked: true, message: piece.name + '的圣盾破裂，抵挡了来自于' + attacker + '的伤害' }; }"
      },
      "earthshatter": {
        "id": "earthshatter",
        "name": "毁天灭地",
        "description": "选择一个无遮挡和棋子的格子，从天而降降落到该格子并对以该格子为中心的3*3区域的敌人造成100%攻击力的物理伤害",
        "icon": "🌋",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 1,
        "maxCharges": 3,
        "chargeCost": 2,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const targetPos = selectTarget({ type: 'grid', range: 10, filter: 'all' }); if (!targetPos || targetPos.needsTargetSelection) { return targetPos; } const pieceAtPos = context.battle.pieces.find(p => p.x === targetPos.x && p.y === targetPos.y && p.currentHp > 0); if (pieceAtPos) { return { message: '该位置已有棋子', success: false }; } sourcePiece.x = targetPos.x; sourcePiece.y = targetPos.y; const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const affectedEnemies = []; let totalDamage = 0; for (let dx = -1; dx <= 1; dx++) { for (let dy = -1; dy <= 1; dy++) { const checkPos = { x: targetPos.x + dx, y: targetPos.y + dy }; const enemyAtPos = context.battle.pieces.find(p => p.x === checkPos.x && p.y === checkPos.y && p.currentHp > 0 && p.ownerPlayerId !== sourcePiece.ownerPlayerId); if (enemyAtPos) { affectedEnemies.push(enemyAtPos.name); const damageResult = dealDamage(sourcePiece, enemyAtPos, damageValue, 'physical', context.battle, context.skill.id); totalDamage += damageResult.damage; } } } if (affectedEnemies.length > 0) { return { message: sourcePiece.name + ' 从天而降，对 ' + affectedEnemies.join(', ') + ' 造成 ' + totalDamage + ' 点伤害', success: true }; } return { message: sourcePiece.name + ' 从天而降', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '选择一个安全位置降落，对3*3区域内的敌人造成' + damageValue + '点伤害（相当于攻击力100%）', expectedValues: { damage: damageValue, area: '3*3' } }; }"
      },
      "evil-explosion": {
        "id": "evil-explosion",
        "name": "邪爆",
        "description": "消灭距离5以内一个生命值小于等于2的角色，对目标距离2格内的角色造成目标生命值上限1/3的伤害（向下取整且至少为攻击力）",
        "icon": "💥",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const targetEnemy = selectTarget({ type: 'piece', range: 5, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } if (targetEnemy.currentHp > 2) { return { message: '目标生命值大于2，无法使用邪爆', success: false }; } const baseDamage = Math.max(sourcePiece.attack, Math.floor(targetEnemy.maxHp / 3)); const nearbyPieces = context.battle.pieces.filter(piece => { if (piece.instanceId === targetEnemy.instanceId) return false; const distance = Math.abs(piece.x - targetEnemy.x) + Math.abs(piece.y - targetEnemy.y); return distance <= 2; }); nearbyPieces.forEach(piece => { const damageResult = dealDamage(sourcePiece, piece, baseDamage, 'magical', context.battle, context.skill.id); }); targetEnemy.currentHp = 0; return { message: sourcePiece.templateId + '使用邪爆消灭了' + targetEnemy.templateId + '，并对周围造成伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '消灭距离5以内一个生命值小于等于2的角色，对目标周围2格内的角色造成伤害', expectedValues: {} }; }",
        "range": "single"
      },
      "fireball": {
        "id": "fireball",
        "name": "火球术",
        "description": "对5格内一个敌人造成当前攻击力1.5倍的伤害火焰",
        "icon": "🔥",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1.5,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetEnemy = selectTarget({ type: 'piece', range: 5, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'magical', context.battle, context.skill.id); return { message: sourcePiece.templateId + '对' + targetEnemy.templateId + '造成' + damageResult.damage + '点伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '对单个敌人造成' + damageValue + '点伤害（相当于攻击力150%）', expectedValues: { damage: damageValue } }; }",
        "range": "single"
      },
      "freeze-prevent": {
        "id": "freeze-prevent",
        "name": "冰冻阻止",
        "description": "阻止被冰冻目标的移动和使用技能",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 0,
        "code": "function executeSkill(context) { if (!context.piece) { return { message: '没有目标', success: false }; } // 检查棋子是否有冰冻状态 const isFrozen = context.piece.statusEffects && context.piece.statusEffects.some(effect => effect.type === 'freeze'); // 或者检查statusTags if (!isFrozen && context.piece.statusTags) { const hasFreezeTag = context.piece.statusTags.some(tag => tag === 'freeze' || tag.includes('freeze-duration-')); if (hasFreezeTag) { return { message: context.piece.name + '被冰冻，无法执行该操作', success: false, preventAction: true, showUIEffect: true }; } } if (isFrozen) { // 根据触发类型确定行动类型 let actionType = '执行该操作'; if (context.type === 'beforeMove') { actionType = '移动'; } else if (context.type === 'beforeSkillUse') { actionType = '使用技能'; } return { message: context.piece.name + '被冰冻，无法' + actionType, success: false, preventAction: true, showUIEffect: true }; } return { message: '目标未被冰冻或行动未被阻止', success: true }; }",
        "showInUI": false
      },
      "frostbolt": {
        "id": "frostbolt",
        "name": "冰霜箭",
        "description": "对5格内一个敌人造成当前攻击力的伤害和1回合冰冻",
        "icon": "❄️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetEnemy = selectTarget({ type: 'piece', range: 5, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'magical', context.battle, context.skill.id); if (typeof addStatusEffectById === 'function' && damageResult.success) { addStatusEffectById(targetEnemy.instanceId, 'freeze', 1); } return { message: sourcePiece.name + '对' + targetEnemy.name + '造成' + damageResult.damage + '点伤害并使其冰冻', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '对5格内一个敌人造成' + damageValue + '点伤害（相当于攻击力100%）和1回合冰冻', expectedValues: { damage: damageValue } }; }",
        "range": "single"
      },
      "hand-cannon": {
        "id": "hand-cannon",
        "name": "手炮",
        "description": "对一个两格内敌人造成1点物理伤害",
        "icon": "🔫",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetEnemy = selectTarget({ type: 'piece', range: 2, filter: 'enemy' }); if (!targetEnemy || targetEnemy.needsTargetSelection) { return targetEnemy; } const distance = Math.abs(sourcePiece.x - targetEnemy.x) + Math.abs(sourcePiece.y - targetEnemy.y); if (distance > 2) { return { message: '目标距离太远', success: false }; } const damageValue = 1; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'physical', context.battle, context.skill.id); return { message: sourcePiece.name + ' 使用手炮对 ' + targetEnemy.name + ' 造成 ' + damageResult.damage + ' 点伤害', success: damageResult.success }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '对两格内的敌人造成1点物理伤害', expectedValues: { damage: 1, range: 2 } }; }"
      },
      "hardy-block": {
        "id": "hardy-block",
        "name": "悍猛格挡",
        "description": "在接下来的敌方回合如果受到伤害将伤害的50%转化为攻击力（向下取整）",
        "icon": "🛡️",
        "kind": "active",
        "type": "buff",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 0.5,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; if (typeof addStatusEffectById === 'function') { const result = addStatusEffectById(sourcePiece.instanceId, 'hardy-block', 1); if (result.success) { return { message: sourcePiece.templateId + ' 激活了悍猛格挡，持续1回合', success: true }; } else { return { message: '无法激活悍猛格挡', success: false }; } } else { return { message: '系统函数不可用', success: false }; } }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '在接下来的敌方回合，受到伤害时将50%伤害转化为攻击力（向下取整）', expectedValues: { duration: 1 } }; }",
        "range": "self"
      },
      "holy-light-descend": {
        "id": "holy-light-descend",
        "name": "圣光降临",
        "description": "选择一个距离6或以内的地格，对该格内的友军回复7点生命值，对该格内敌人造成7点伤害；对该格距离1的地格，伤害和治疗量为4；对该格距离2的地格，伤害和治疗量为2",
        "icon": "☀️",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 3,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 5,
        "chargeCost": 3,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetCell = selectTarget({ type: 'cell', range: 6 }); if (!targetCell || targetCell.needsTargetSelection) { return targetCell; } const battle = context.battle; const centerX = targetCell.x; const centerY = targetCell.y; const applyEffect = (x, y, value) => { const pieces = battle.getPiecesAtPosition(x, y); for (const piece of pieces) { if (piece.faction === sourcePiece.faction) { healDamage(sourcePiece, piece, value, battle, context.skill.id); } else { dealDamage(sourcePiece, piece, value, 'magical', battle, context.skill.id); } } }; applyEffect(centerX, centerY, 7); for (let dx = -1; dx <= 1; dx++) { for (let dy = -1; dy <= 1; dy++) { if (Math.abs(dx) + Math.abs(dy) === 1) { applyEffect(centerX + dx, centerY + dy, 4); } } } for (let dx = -2; dx <= 2; dx++) { for (let dy = -2; dy <= 2; dy++) { if (Math.abs(dx) + Math.abs(dy) === 2) { applyEffect(centerX + dx, centerY + dy, 2); } } } return { message: sourcePiece.name + '释放了圣光降临', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '选择一个距离6或以内的地格，对该格内的友军回复7点生命值，对该格内敌人造成7点伤害；对该格距离1的地格，伤害和治疗量为4；对该格距离2的地格，伤害和治疗量为2', expectedValues: { centerHeal: 7, centerDamage: 7, adjacentHeal: 4, adjacentDamage: 4, distantHeal: 2, distantDamage: 2 } }; }",
        "range": "area"
      },
      "holy-shield-defense": {
        "id": "holy-shield-defense",
        "name": "圣盾防御",
        "description": "当拥有圣盾状态时，抵挡一次伤害并移除圣盾效果",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) { const piece = context.piece; const damage = context.damage; if (typeof removeStatusEffectById === 'function') { removeStatusEffectById(piece.instanceId, 'holy-shield'); } return { message: piece.name + '的圣盾抵挡了' + damage + '点伤害', success: true }; }"
      },
      "light-of-the-light": {
        "id": "light-of-the-light",
        "name": "圣光闪耀",
        "description": "为7格内一个友军回复5点生命值",
        "icon": "✨",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetAlly = selectTarget({ type: 'piece', range: 7, filter: 'ally' }); if (!targetAlly || targetAlly.needsTargetSelection) { return targetAlly; } const healValue = 5; const healResult = healDamage(sourcePiece, targetAlly, healValue, context.battle, context.skill.id); return { message: sourcePiece.name + '为' + targetAlly.name + '回复' + healResult.heal + '点生命值', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const healValue = 5; return { description: '为7格内一个友军回复' + healValue + '点生命值', expectedValues: { heal: healValue } }; }",
        "range": "single"
      },
      "retaliation": {
        "id": "retaliation",
        "name": "反击",
        "description": "当受到伤害时，选择一个3格内的目标，造成100%攻击力的伤害",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) { return { message: '反击被动技能已激活', success: true } }"
      },
      "rocket-punch": {
        "id": "rocket-punch",
        "name": "火箭重拳",
        "description": "选择一个同行或同列的格子，向该方向冲刺3并对路径上的敌人造成伤害，停在第一个敌人或障碍物面前",
        "icon": "👊",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 2,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const targetPosition = selectTarget({ type: 'grid', range: 5, filter: 'all' }); if (!targetPosition || targetPosition.needsTargetSelection) { return targetPosition; } if (sourcePiece.x !== targetPosition.x && sourcePiece.y !== targetPosition.y) { return { message: '目标格子必须与当前位置在同一行或同一列', success: false }; } let direction = ''; if (sourcePiece.x === targetPosition.x) { direction = targetPosition.y < sourcePiece.y ? 'up' : 'down'; } else { direction = targetPosition.x < sourcePiece.x ? 'left' : 'right'; } let hitEnemies = []; const damageValue = Math.round(sourcePiece.attack * context.skill.powerMultiplier); for (let i = 1; i <= 3; i++) { let checkX = sourcePiece.x; let checkY = sourcePiece.y; switch (direction) { case 'up': checkY -= i; break; case 'down': checkY += i; break; case 'left': checkX -= i; break; case 'right': checkX += i; break; } const enemyAtCheck = battle.pieces.find(p => p.x === checkX && p.y === checkY && p.currentHp > 0 && p.ownerPlayerId !== sourcePiece.ownerPlayerId); if (enemyAtCheck) { hitEnemies.push(enemyAtCheck); } } let finalX = sourcePiece.x; let finalY = sourcePiece.y; for (let step = 1; step <= 3; step++) { let nextX = finalX; let nextY = finalY; switch (direction) { case 'up': nextY--; break; case 'down': nextY++; break; case 'left': nextX--; break; case 'right': nextX++; break; } const hasEnemy = battle.pieces.some(p => p.x === nextX && p.y === nextY && p.currentHp > 0); const isOutOfBounds = nextX < 0 || nextX >= battle.map.width || nextY < 0 || nextY >= battle.map.height; if (hasEnemy || isOutOfBounds) { break; } finalX = nextX; finalY = nextY; } sourcePiece.x = finalX; sourcePiece.y = finalY; hitEnemies.forEach(enemy => { dealDamage(sourcePiece, enemy, damageValue, 'physical', battle, context.skill.id); }); return { message: sourcePiece.name + ' 使用了火箭重拳，对路径上的敌人造成了伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '选择同行或同列的格子冲刺，对路径上的敌人造成' + damageValue + '点伤害(相当于攻击力200%)', expectedValues: { damage: damageValue, range: 5 } }; }",
        "range": "single"
      },
      "shield-of-light": {
        "id": "shield-of-light",
        "name": "圣光术",
        "description": "为范围内一个友军获得圣盾，抵挡一次伤害",
        "icon": "shield",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 3,
        "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetAlly = selectTarget({ type: 'piece', range: 7, filter: 'ally' }); if (!targetAlly || targetAlly.needsTargetSelection) { return targetAlly; } if (typeof addStatusEffectById === 'function') { addStatusEffectById(targetAlly.instanceId, { id: 'divine-shield', type: 'divine-shield', currentDuration: -1, currentUses: -1, intensity: 1, stacks: 1 }); } if (typeof addRuleById === 'function') { addRuleById(targetAlly.instanceId, 'rule-divine-shield'); } if (typeof addSkillById === 'function') { addSkillById(targetAlly.instanceId, 'divine-shield-defense'); } return { message: sourcePiece.name + ' 为 ' + targetAlly.name + ' 施加了圣盾', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '为范围内一个友军获得圣盾，抵挡一次伤害', expectedValues: {} }; }",
        "range": "single"
      },
      "shield": {
        "id": "shield",
        "name": "护盾术",
        "description": "为自身提供50点护盾，吸收伤害",
        "icon": "🛡️",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 4,
        "maxCharges": 2,
        "chargeCost": 1,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) {\n  // 直接修改自身的护盾值\n  const shieldValue = 50;\n  if (!context.piece.shield) {\n    context.piece.shield = 0;\n  }\n  context.piece.shield += shieldValue;\n  \n  return {\n    message: \"护盾术生效，获得\" + shieldValue + \"点护盾\",\n    success: true\n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 固定护盾值\n  const shieldValue = 50;\n  \n  return {\n    description: \"为自身提供\" + shieldValue + \"点护盾，吸收伤害\",\n    expectedValues: {\n      heal: shieldValue // 使用heal字段表示护盾值，因为它们都是正面效果 \n}\n  };\n}",
        "range": "self"
      },
      "soul-harvest": {
        "id": "soul-harvest",
        "name": "灵魂收割",
        "description": "当一个敌方角色死亡时，获得等同于其最大生命值的最大生命值，并且增加其最大生命值的血量",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) { const victim = selectTarget({ type: 'piece', range: 5, filter: 'enemy' }); if (!victim || victim.needsTargetSelection) { return victim; } const soulPower = victim.maxHp; sourcePiece.maxHp += soulPower; sourcePiece.currentHp += soulPower; return { message: sourcePiece.templateId + '从' + victim.templateId + '的死亡中汲取力量，生命值增加' + soulPower, success: true }; }",
        "range": "self"
      },
      "teleport": {
        "id": "teleport",
        "name": "Teleport",
        "description": "传送到目标位置，冷却2回合",
        "icon": "🚀",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) { const targetPos = selectTarget({ type: 'grid', range: 5, filter: 'all' }); if (!targetPos || targetPos.needsTargetSelection) { return targetPos; } const pieceAtPos = context.battle.pieces.find(p => p.x === targetPos.x && p.y === targetPos.y && p.currentHp > 0); if (pieceAtPos) { return { message: '该位置已有棋子，无法传送', success: false }; } sourcePiece.x = targetPos.x; sourcePiece.y = targetPos.y; return { message: sourcePiece.name + '传送到了(' + targetPos.x + ',' + targetPos.y + ')', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const areaSize = skillDef.areaSize || 5; return { description: \"传送到目标位置，冷却2回合（\" + areaSize + \"格范围内）\", expectedValues: {} }; }",
        "effects": []
      },
      "test": {
        "id": "test",
        "name": "测试技能",
        "description": "测试技能描述",
        "code": "function test() {\n  return \"test\";\n}",
        "previewCode": "function preview() {\n  return \"preview\";\n}"
      },
      "white-bone-storm": {
        "id": "white-bone-storm",
        "name": "白骨风暴",
        "description": "召唤白骨风暴，在自身周围5*5格范围内对经过的敌人造成伤害",
        "icon": "💀",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { if (typeof addStatusEffectById === 'function') { addStatusEffectById(sourcePiece.instanceId, 'bone-storm', 999); } return { message: sourcePiece.name + '召唤了白骨风暴，在自身周围5*5格范围内对经过的敌人造成伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { return { description: '召唤白骨风暴，在自身周围5*5格范围内对经过的敌人造成伤害', expectedValues: {} }; }"
      }
    },
    "players": [
      {
        "playerId": "user_1771484840385_7362",
        "chargePoints": 0,
        "actionPoints": 6,
        "maxActionPoints": 6
      },
      {
        "playerId": "user_1771763839460_842",
        "chargePoints": 0,
        "actionPoints": 2,
        "maxActionPoints": 5
      }
    ],
    "turn": {
      "currentPlayerId": "user_1771484840385_7362",
      "turnNumber": 11,
      "phase": "start",
      "actions": {
        "hasMoved": false,
        "hasUsedBasicSkill": false,
        "hasUsedChargeSkill": false
      }
    },
    "actions": [
      {
        "type": "move",
        "playerId": "user_1771484840385_7362",
        "turn": 1,
        "payload": {
          "message": "末日铁拳从(1, 6)移动到(1, 9)",
          "pieceId": "user_1771484840385_7362-2",
          "fromX": 1,
          "fromY": 6,
          "toX": 1,
          "toY": 9
        }
      },
      {
        "type": "move",
        "playerId": "user_1771763839460_842",
        "turn": 2,
        "payload": {
          "message": "安度因从(6, 10)移动到(6, 9)",
          "pieceId": "user_1771763839460_842-1",
          "fromX": 6,
          "fromY": 10,
          "toX": 6,
          "toY": 9
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771484840385_7362",
        "turn": 3,
        "payload": {
          "message": "末日铁拳使用了火箭重拳，目标是安度因，末日铁拳 使用了火箭重拳，对路径上的敌人造成了伤害",
          "skillId": "rocket-punch",
          "pieceId": "user_1771484840385_7362-2"
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771763839460_842",
        "turn": 4,
        "payload": {
          "message": "安度因使用了圣光闪耀，目标是末日铁拳，undefined为末日铁拳回复0点生命值",
          "skillId": "light-of-the-light",
          "pieceId": "user_1771763839460_842-1"
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771484840385_7362",
        "turn": 5,
        "payload": {
          "message": "末日铁拳使用了手炮，目标是安度因，undefined 使用手炮对 安度因 造成 1 点伤害",
          "skillId": "hand-cannon",
          "pieceId": "user_1771484840385_7362-2"
        }
      },
      {
        "type": "move",
        "playerId": "user_1771763839460_842",
        "turn": 6,
        "payload": {
          "message": "安度因从(6, 9)移动到(5, 9)",
          "pieceId": "user_1771763839460_842-1",
          "fromX": 6,
          "fromY": 9,
          "toX": 5,
          "toY": 9
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771763839460_842",
        "turn": 6,
        "payload": {
          "message": "安度因使用了圣光闪耀，目标是末日铁拳，undefined为末日铁拳回复0点生命值",
          "skillId": "light-of-the-light",
          "pieceId": "user_1771763839460_842-1"
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771484840385_7362",
        "turn": 7,
        "payload": {
          "message": "末日铁拳使用了火箭重拳，目标是安度因，末日铁拳 使用了火箭重拳，对路径上的敌人造成了伤害",
          "skillId": "rocket-punch",
          "pieceId": "user_1771484840385_7362-2"
        }
      },
      {
        "type": "useChargeSkill",
        "playerId": "user_1771484840385_7362",
        "turn": 7,
        "payload": {
          "message": "末日铁拳使用了悍猛格挡（充能技能，消耗0点充能），无法激活悍猛格挡",
          "skillId": "hardy-block",
          "pieceId": "user_1771484840385_7362-2",
          "chargeCost": 0
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771763839460_842",
        "turn": 8,
        "payload": {
          "message": "安度因使用了圣光术，目标是蓝方射手，undefined 为 蓝方射手 施加了圣盾",
          "skillId": "shield-of-light",
          "pieceId": "user_1771763839460_842-1"
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771484840385_7362",
        "turn": 9,
        "payload": {
          "message": "末日铁拳使用了手炮，目标是蓝方射手，目标距离太远",
          "skillId": "hand-cannon",
          "pieceId": "user_1771484840385_7362-2"
        }
      },
      {
        "type": "move",
        "playerId": "user_1771484840385_7362",
        "turn": 9,
        "payload": {
          "message": "末日铁拳从(4, 9)移动到(4, 7)",
          "pieceId": "user_1771484840385_7362-2",
          "fromX": 4,
          "fromY": 9,
          "toX": 4,
          "toY": 7
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771763839460_842",
        "turn": 10,
        "payload": {
          "message": "吉安娜使用了火球术，目标是红方战士，jaina对red-warrior造成6点伤害",
          "skillId": "fireball",
          "pieceId": "user_1771763839460_842-5"
        }
      },
      {
        "type": "move",
        "playerId": "user_1771763839460_842",
        "turn": 10,
        "payload": {
          "message": "吉安娜从(9, 13)移动到(9, 10)",
          "pieceId": "user_1771763839460_842-5",
          "fromX": 9,
          "fromY": 13,
          "toX": 9,
          "toY": 10
        }
      }
    ]
  }
}
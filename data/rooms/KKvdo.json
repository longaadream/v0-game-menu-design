{
  "id": "KKvdo",
  "name": "admin 的 1v1 房间",
  "status": "in-progress",
  "createdAt": 1771647389797,
  "maxPlayers": 2,
  "players": [
    {
      "id": "user_1771360858632_9522",
      "name": "admin",
      "joinedAt": 1771647389847,
      "faction": "blue",
      "hasSelectedPieces": true,
      "selectedPieces": [
        {
          "templateId": "blue-mage",
          "faction": "blue"
        },
        {
          "templateId": "jaina",
          "faction": "blue"
        }
      ]
    },
    {
      "id": "user_1771361118594_8536",
      "name": "Longaadream",
      "joinedAt": 1771647392838,
      "faction": "red",
      "hasSelectedPieces": true,
      "selectedPieces": [
        {
          "templateId": "red-mage",
          "faction": "red"
        },
        {
          "templateId": "red-reaper",
          "faction": "red"
        },
        {
          "templateId": "red-doomsday-fist",
          "faction": "red"
        }
      ]
    }
  ],
  "hostId": "user_1771360858632_9522",
  "mapId": "large-battlefield",
  "visibility": "public",
  "currentTurnIndex": 0,
  "actions": [],
  "battleState": {
    "map": {
      "id": "large-battlefield",
      "name": "大型战场",
      "width": 20,
      "height": 16,
      "tiles": [
        {
          "id": "large-battlefield-0-0",
          "x": 0,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-0",
          "x": 1,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-2-0",
          "x": 2,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-0",
          "x": 3,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-0",
          "x": 4,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-5-0",
          "x": 5,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-6-0",
          "x": 6,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-0",
          "x": 7,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-0",
          "x": 8,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-0",
          "x": 9,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-10-0",
          "x": 10,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-11-0",
          "x": 11,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-0",
          "x": 12,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-0",
          "x": 13,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-0",
          "x": 14,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-15-0",
          "x": 15,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-16-0",
          "x": 16,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-0",
          "x": 17,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-0",
          "x": 18,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-19-0",
          "x": 19,
          "y": 0,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-1",
          "x": 0,
          "y": 1,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-1",
          "x": 1,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-1",
          "x": 2,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-1",
          "x": 3,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-1",
          "x": 4,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-1",
          "x": 5,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-1",
          "x": 6,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-1",
          "x": 7,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-1",
          "x": 8,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-1",
          "x": 9,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-1",
          "x": 10,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-1",
          "x": 11,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-1",
          "x": 12,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-1",
          "x": 13,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-1",
          "x": 14,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-1",
          "x": 15,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-1",
          "x": 16,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-1",
          "x": 17,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-1",
          "x": 18,
          "y": 1,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-1",
          "x": 19,
          "y": 1,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-2",
          "x": 0,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-2",
          "x": 1,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-2",
          "x": 2,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-2",
          "x": 3,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-2",
          "x": 4,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-2",
          "x": 5,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-2",
          "x": 6,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-2",
          "x": 7,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-2",
          "x": 8,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-2",
          "x": 9,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-2",
          "x": 10,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-2",
          "x": 11,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-2",
          "x": 12,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-2",
          "x": 13,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-2",
          "x": 14,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-2",
          "x": 15,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-2",
          "x": 16,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-2",
          "x": 17,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-2",
          "x": 18,
          "y": 2,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-2",
          "x": 19,
          "y": 2,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-3",
          "x": 0,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-3",
          "x": 1,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-3",
          "x": 2,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-3",
          "x": 3,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-3",
          "x": 4,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-3",
          "x": 5,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-3",
          "x": 6,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-3",
          "x": 7,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-3",
          "x": 8,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-3",
          "x": 9,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-3",
          "x": 10,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-3",
          "x": 11,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-3",
          "x": 12,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-3",
          "x": 13,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-3",
          "x": 14,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-3",
          "x": 15,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-3",
          "x": 16,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-3",
          "x": 17,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-3",
          "x": 18,
          "y": 3,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-3",
          "x": 19,
          "y": 3,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-4",
          "x": 0,
          "y": 4,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-4",
          "x": 1,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-4",
          "x": 2,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-4",
          "x": 3,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-4",
          "x": 4,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-4",
          "x": 5,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-4",
          "x": 6,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-4",
          "x": 7,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-4",
          "x": 8,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-4",
          "x": 9,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-4",
          "x": 10,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-4",
          "x": 11,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-4",
          "x": 12,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-4",
          "x": 13,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-4",
          "x": 14,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-4",
          "x": 15,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-4",
          "x": 16,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-4",
          "x": 17,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-4",
          "x": 18,
          "y": 4,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-4",
          "x": 19,
          "y": 4,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-5",
          "x": 0,
          "y": 5,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-5",
          "x": 1,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-5",
          "x": 2,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-5",
          "x": 3,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-4-5",
          "x": 4,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-5",
          "x": 5,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-5",
          "x": 6,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-5",
          "x": 7,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-5",
          "x": 8,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-9-5",
          "x": 9,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-5",
          "x": 10,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-5",
          "x": 11,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-5",
          "x": 12,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-5",
          "x": 13,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-14-5",
          "x": 14,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-5",
          "x": 15,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-5",
          "x": 16,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-5",
          "x": 17,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-5",
          "x": 18,
          "y": 5,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-19-5",
          "x": 19,
          "y": 5,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-6",
          "x": 0,
          "y": 6,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-6",
          "x": 1,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-6",
          "x": 2,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-6",
          "x": 3,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-6",
          "x": 4,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-6",
          "x": 5,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-6",
          "x": 6,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-6",
          "x": 7,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-6",
          "x": 8,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-6",
          "x": 9,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-6",
          "x": 10,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-6",
          "x": 11,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-6",
          "x": 12,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-6",
          "x": 13,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-6",
          "x": 14,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-6",
          "x": 15,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-6",
          "x": 16,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-6",
          "x": 17,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-6",
          "x": 18,
          "y": 6,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-6",
          "x": 19,
          "y": 6,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-7",
          "x": 0,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-7",
          "x": 1,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-7",
          "x": 2,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-7",
          "x": 3,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-7",
          "x": 4,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-7",
          "x": 5,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-7",
          "x": 6,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-7",
          "x": 7,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-7",
          "x": 8,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-7",
          "x": 9,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-7",
          "x": 10,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-7",
          "x": 11,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-7",
          "x": 12,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-7",
          "x": 13,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-7",
          "x": 14,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-7",
          "x": 15,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-7",
          "x": 16,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-7",
          "x": 17,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-7",
          "x": 18,
          "y": 7,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-7",
          "x": 19,
          "y": 7,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-8",
          "x": 0,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-8",
          "x": 1,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-8",
          "x": 2,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-8",
          "x": 3,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-8",
          "x": 4,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-8",
          "x": 5,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-8",
          "x": 6,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-8",
          "x": 7,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-8",
          "x": 8,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-8",
          "x": 9,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-8",
          "x": 10,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-8",
          "x": 11,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-8",
          "x": 12,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-8",
          "x": 13,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-8",
          "x": 14,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-8",
          "x": 15,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-8",
          "x": 16,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-8",
          "x": 17,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-8",
          "x": 18,
          "y": 8,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-8",
          "x": 19,
          "y": 8,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-9",
          "x": 0,
          "y": 9,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-9",
          "x": 1,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-9",
          "x": 2,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-9",
          "x": 3,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-9",
          "x": 4,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-9",
          "x": 5,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-9",
          "x": 6,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-9",
          "x": 7,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-9",
          "x": 8,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-9",
          "x": 9,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-9",
          "x": 10,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-9",
          "x": 11,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-9",
          "x": 12,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-9",
          "x": 13,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-9",
          "x": 14,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-9",
          "x": 15,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-9",
          "x": 16,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-9",
          "x": 17,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-9",
          "x": 18,
          "y": 9,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-9",
          "x": 19,
          "y": 9,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-10",
          "x": 0,
          "y": 10,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-10",
          "x": 1,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-10",
          "x": 2,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-10",
          "x": 3,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-4-10",
          "x": 4,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-10",
          "x": 5,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-10",
          "x": 6,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-10",
          "x": 7,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-10",
          "x": 8,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-9-10",
          "x": 9,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-10",
          "x": 10,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-10",
          "x": 11,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-10",
          "x": 12,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-10",
          "x": 13,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-14-10",
          "x": 14,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-10",
          "x": 15,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-10",
          "x": 16,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-10",
          "x": 17,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-10",
          "x": 18,
          "y": 10,
          "props": {
            "walkable": true,
            "bulletPassable": false,
            "type": "cover"
          }
        },
        {
          "id": "large-battlefield-19-10",
          "x": 19,
          "y": 10,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-11",
          "x": 0,
          "y": 11,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-11",
          "x": 1,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-11",
          "x": 2,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-11",
          "x": 3,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-11",
          "x": 4,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-11",
          "x": 5,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-11",
          "x": 6,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-11",
          "x": 7,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-11",
          "x": 8,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-11",
          "x": 9,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-11",
          "x": 10,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-11",
          "x": 11,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-11",
          "x": 12,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-11",
          "x": 13,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-11",
          "x": 14,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-11",
          "x": 15,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-11",
          "x": 16,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-11",
          "x": 17,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-11",
          "x": 18,
          "y": 11,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-11",
          "x": 19,
          "y": 11,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-12",
          "x": 0,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-12",
          "x": 1,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-12",
          "x": 2,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-12",
          "x": 3,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-12",
          "x": 4,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-12",
          "x": 5,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-12",
          "x": 6,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-12",
          "x": 7,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-12",
          "x": 8,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-12",
          "x": 9,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-12",
          "x": 10,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-12",
          "x": 11,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-12",
          "x": 12,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-12",
          "x": 13,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-12",
          "x": 14,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-12",
          "x": 15,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-12",
          "x": 16,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-12",
          "x": 17,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-12",
          "x": 18,
          "y": 12,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-12",
          "x": 19,
          "y": 12,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-13",
          "x": 0,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-13",
          "x": 1,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-13",
          "x": 2,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-13",
          "x": 3,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-13",
          "x": 4,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-13",
          "x": 5,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-13",
          "x": 6,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-13",
          "x": 7,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-13",
          "x": 8,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-13",
          "x": 9,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-13",
          "x": 10,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-13",
          "x": 11,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-13",
          "x": 12,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-13",
          "x": 13,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-13",
          "x": 14,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-13",
          "x": 15,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-13",
          "x": 16,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-13",
          "x": 17,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-13",
          "x": 18,
          "y": 13,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-13",
          "x": 19,
          "y": 13,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-14",
          "x": 0,
          "y": 14,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-14",
          "x": 1,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-2-14",
          "x": 2,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-3-14",
          "x": 3,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-4-14",
          "x": 4,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-5-14",
          "x": 5,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-6-14",
          "x": 6,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-7-14",
          "x": 7,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-8-14",
          "x": 8,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-9-14",
          "x": 9,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-10-14",
          "x": 10,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-11-14",
          "x": 11,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-12-14",
          "x": 12,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-13-14",
          "x": 13,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-14-14",
          "x": 14,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-15-14",
          "x": 15,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-16-14",
          "x": 16,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-17-14",
          "x": 17,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-18-14",
          "x": 18,
          "y": 14,
          "props": {
            "walkable": true,
            "bulletPassable": true,
            "type": "floor"
          }
        },
        {
          "id": "large-battlefield-19-14",
          "x": 19,
          "y": 14,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-0-15",
          "x": 0,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-1-15",
          "x": 1,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-2-15",
          "x": 2,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-3-15",
          "x": 3,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-4-15",
          "x": 4,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-5-15",
          "x": 5,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-6-15",
          "x": 6,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-7-15",
          "x": 7,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-8-15",
          "x": 8,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-9-15",
          "x": 9,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-10-15",
          "x": 10,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-11-15",
          "x": 11,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-12-15",
          "x": 12,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-13-15",
          "x": 13,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-14-15",
          "x": 14,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-15-15",
          "x": 15,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-16-15",
          "x": 16,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-17-15",
          "x": 17,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-18-15",
          "x": 18,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        },
        {
          "id": "large-battlefield-19-15",
          "x": 19,
          "y": 15,
          "props": {
            "walkable": false,
            "bulletPassable": false,
            "type": "wall"
          }
        }
      ]
    },
    "pieces": [
      {
        "instanceId": "user_1771361118594_8536-1",
        "templateId": "red-mage",
        "ownerPlayerId": "user_1771361118594_8536",
        "faction": "red",
        "currentHp": 8,
        "maxHp": 8,
        "attack": 6,
        "defense": 0,
        "moveRange": 2,
        "x": 13,
        "y": 4,
        "skills": [
          {
            "skillId": "teleport",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771361118594_8536-2",
        "templateId": "red-reaper",
        "ownerPlayerId": "user_1771361118594_8536",
        "faction": "red",
        "currentHp": 15,
        "maxHp": 15,
        "attack": 3,
        "defense": 1,
        "moveRange": 2,
        "x": 18,
        "y": 12,
        "skills": [
          {
            "skillId": "basic-attack",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "soul-harvest",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771361118594_8536-3",
        "templateId": "red-doomsday-fist",
        "ownerPlayerId": "user_1771361118594_8536",
        "faction": "red",
        "currentHp": 13,
        "maxHp": 13,
        "attack": 2,
        "defense": 1,
        "moveRange": 3,
        "x": 9,
        "y": 5,
        "skills": [
          {
            "skillId": "rocket-punch",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "hardy-block",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "hand-cannon",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "earthshatter",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771360858632_9522-1",
        "templateId": "blue-mage",
        "ownerPlayerId": "user_1771360858632_9522",
        "faction": "blue",
        "currentHp": 8,
        "maxHp": 8,
        "attack": 6,
        "defense": 0,
        "moveRange": 2,
        "x": 5,
        "y": 5,
        "skills": [
          {
            "skillId": "teleport",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      },
      {
        "instanceId": "user_1771360858632_9522-2",
        "templateId": "jaina",
        "ownerPlayerId": "user_1771360858632_9522",
        "faction": "blue",
        "currentHp": 10,
        "maxHp": 10,
        "attack": 4,
        "defense": 0,
        "moveRange": 4,
        "x": 11,
        "y": 6,
        "skills": [
          {
            "skillId": "frostbolt",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "fireball",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          },
          {
            "skillId": "blizzard",
            "currentCooldown": 0,
            "currentCharges": 0,
            "unlocked": true,
            "usesRemaining": -1
          }
        ]
      }
    ],
    "pieceStatsByTemplateId": {
      "red-warrior": {
        "maxHp": 120,
        "attack": 20,
        "defense": 5,
        "moveRange": 3
      },
      "blue-warrior": {
        "maxHp": 120,
        "attack": 20,
        "defense": 5,
        "moveRange": 3
      }
    },
    "skillsById": {
      "arcane-burst": {
        "id": "arcane-burst",
        "name": "Arcane Burst",
        "description": "传送到目标位置，提升自身攻击力15点，对5格范围内的所有敌人造成相当于攻击力250%的伤害",
        "icon": "✨",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 3,
        "maxCharges": 1,
        "chargeCost": 1,
        "powerMultiplier": 2,
        "actionPointCost": 2,
        "code": "function executeSkill(context) {\n  // 使用teleport函数进行传送\n  teleport();\n  \n  // 直接修改自身的攻击力（buff效果）\n  const buffValue = 15;\n  sourcePiece.attack += buffValue;\n  \n  // 直接修改范围内敌人的生命值（damage效果）\n  const damageValue = sourcePiece.attack * 2.5;\n  const enemies = select.getEnemiesInRange(5);\n  enemies.forEach(enemy => {\n    enemy.currentHp = Math.max(0, enemy.currentHp - damageValue);\n  });\n  \n  return { \n    message: sourcePiece.templateId + ' 激活了奥术爆发，提升攻击力' + buffValue + '点，对' + enemies.length + '个敌人造成' + damageValue + '点伤害', \n    success: true \n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 计算预期伤害值和增益值\n  const buffValue = 15;\n  const damageValue = Math.round((piece.attack + buffValue) * 2.5); // 考虑增益后的攻击力\n  const areaSize = skillDef.areaSize || 5;\n  \n  return {\n    description: \"传送到目标位置，提升自身攻击力\" + buffValue + \"点，对\" + areaSize + \"格范围内的所有敌人造成\" + damageValue + \"点伤害\",\n    expectedValues: {\n      damage: damageValue,\n      buff: buffValue\n    }\n  };\n}",
        "range": "area",
        "areaSize": 5,
        "requiresTarget": true
      },
      "arcane-combination": {
        "id": "arcane-combination",
        "name": "Arcane Combination",
        "description": "传送到目标位置，提升自身攻击力10点，对5格范围内的所有敌人造成50点伤害",
        "icon": "🌟",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 3,
        "maxCharges": 1,
        "chargeCost": 1,
        "powerMultiplier": 2,
        "actionPointCost": 2,
        "code": "function executeSkill(context) {\n  // 使用teleport函数进行传送\n  teleport();\n  \n  // 直接修改自身的攻击力（buff效果）\n  const buffValue = 10;\n  sourcePiece.attack += buffValue;\n  \n  // 直接修改范围内敌人的生命值（damage效果）\n  const damageValue = 50;\n  const enemies = select.getEnemiesInRange(5);\n  enemies.forEach(enemy => {\n    enemy.currentHp = Math.max(0, enemy.currentHp - damageValue);\n  });\n  \n  return { message: sourcePiece.templateId + ' 激活了奥术组合，提升攻击力' + buffValue + '点，对' + enemies.length + '个敌人造成' + damageValue + '点伤害', success: true };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 计算预期伤害值和增益值\n  const buffValue = 10;\n  const damageValue = 50; // 固定伤害值\n  const areaSize = skillDef.areaSize || 5;\n  \n  return {\n    description: \"传送到目标位置，提升自身攻击力\" + buffValue + \"点，对\" + areaSize + \"格范围内的所有敌人造成\" + damageValue + \"点伤害\",\n    expectedValues: {\n      damage: damageValue,\n      buff: buffValue\n    }\n  };\n}",
        "range": "area",
        "areaSize": 5,
        "requiresTarget": true
      },
      "basic-attack": {
        "id": "basic-attack",
        "name": "基础攻击",
        "description": "选择最近的敌人，造成相当于攻击力100%的伤害",
        "icon": "⚔️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) {\n  // 选择最近的敌人\n  const targetEnemy = select.getNearestEnemy();\n  if (!targetEnemy) {\n    return { message: '没有可攻击的敌人', success: false };\n  }\n  \n  // 计算伤害值\n  const damageValue = sourcePiece.attack * context.skill.powerMultiplier;\n  \n  // 直接修改敌人的生命值\n  targetEnemy.currentHp = Math.max(0, targetEnemy.currentHp - damageValue);\n  \n  return {\n    message: sourcePiece.templateId + ' 造成 ' + damageValue + ' 点伤害',\n    success: true\n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 计算预期伤害值\n  const damageValue = Math.round(piece.attack * skillDef.powerMultiplier);\n  \n  return {\n    description: \"选择最近的敌人，造成\" + damageValue + \"点伤害（相当于攻击力100%）\",\n    expectedValues: {\n      damage: damageValue\n    }\n  };\n}",
        "range": "single",
        "requiresTarget": true
      },
      "bleeding-blade-json": {
        "id": "bleeding-blade-json",
        "name": "出血之刃(JSON)",
        "description": "对单个目标造成120%攻击力的伤害，并施加JSON定义的流血状态",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1.2,
        "code": "function executeSkill(context) { \n  const caster = sourcePiece;\n  const nearestEnemy = select.getNearestEnemy();\n  \n  if (nearestEnemy) {\n    // 计算伤害\n    const damage = Math.round(caster.attack * context.skill.powerMultiplier);\n    nearestEnemy.currentHp = Math.max(0, nearestEnemy.currentHp - damage);\n    \n    // 施加JSON定义的流血状态\n    addStatusEffectById(nearestEnemy, 'bleeding');\n    \n    return { message: caster.templateId + '使用出血之刃，对' + nearestEnemy.templateId + '造成' + damage + '点伤害，并施加了流血状态', success: true };\n  }\n  return { message: '范围内没有可攻击的敌人', success: false };\n}",
        "range": "single",
        "requiresTarget": false,
        "actionPointCost": 2
      },
      "bleeding-blade": {
        "id": "bleeding-blade",
        "name": "出血之刃",
        "description": "对单个目标造成120%攻击力的伤害，并施加3回合的流血状态，每回合造成5点伤害",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1.2,
        "code": "function executeSkill(context) { \n  const caster = sourcePiece;\n  const nearestEnemy = select.getNearestEnemy();\n  \n  if (nearestEnemy) {\n    // 计算伤害\n    const damage = Math.round(caster.attack * context.skill.powerMultiplier);\n    nearestEnemy.currentHp = Math.max(0, nearestEnemy.currentHp - damage);\n    \n    // 施加流血状态\n    addBleeding(nearestEnemy, 3, 5);\n    \n    return { message: caster.templateId + '使用出血之刃，对' + nearestEnemy.templateId + '造成' + damage + '点伤害，并施加了流血状态', success: true };\n  }\n  return { message: '范围内没有可攻击的敌人', success: false };\n}",
        "range": "single",
        "requiresTarget": false,
        "actionPointCost": 2
      },
      "blizzard-effect": {
        "id": "blizzard-effect",
        "name": "暴风雪效果",
        "description": "处理暴风雪区域的伤害和冰冻效果",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 0,
        "code": "function executeSkill(context) { if (!context.battle.blizzardAreas || context.battle.blizzardAreas.length === 0) { return { message: '没有暴风雪区域', success: false }; } if (!context.playerId) { return { message: '没有玩家信息', success: false }; } let totalDamage = 0; let totalEnemies = 0; let enemyNames = []; let blizzardDetails = []; let casterPlayerId = null; context.battle.blizzardAreas.forEach(blizzardArea => { const caster = context.battle.pieces.find(p => p.instanceId === blizzardArea.casterId); if (caster) { casterPlayerId = caster.ownerPlayerId; } }); if (!casterPlayerId) { return { message: '没有找到施法者', success: false }; } if (casterPlayerId === context.playerId) { return { message: '暴风雪只在对方回合结束时触发', success: false }; } context.battle.blizzardAreas.forEach(blizzardArea => { const enemiesInArea = context.battle.pieces.filter(piece => { if (piece.ownerPlayerId === casterPlayerId) return false; const distanceX = Math.abs(piece.x - blizzardArea.center.x); const distanceY = Math.abs(piece.y - blizzardArea.center.y); return distanceX <= blizzardArea.radius && distanceY <= blizzardArea.radius && piece.currentHp > 0; }); enemiesInArea.forEach(enemy => { const caster = context.battle.pieces.find(p => p.instanceId === blizzardArea.casterId) || context.battle.pieces.find(p => p.ownerPlayerId === casterPlayerId); if (caster) { const damageResult = dealDamage(caster, enemy, blizzardArea.damage, 'magical', context.battle, 'blizzard'); if (typeof addStatusEffectById === 'function' && damageResult.success) { addStatusEffectById(enemy.instanceId, 'freeze', 1); enemy.showFreezeEffect = true; } totalDamage += damageResult.damage; totalEnemies++; enemyNames.push(enemy.templateId); } }); blizzardDetails.push('中心(' + blizzardArea.center.x + ',' + blizzardArea.center.y + ')'); if (!context.battle.effects) { context.battle.effects = []; } for (let x = blizzardArea.center.x - blizzardArea.radius; x <= blizzardArea.center.x + blizzardArea.radius; x++) { for (let y = blizzardArea.center.y - blizzardArea.radius; y <= blizzardArea.center.y + blizzardArea.radius; y++) { context.battle.effects.push({ type: 'blizzard', position: { x, y }, duration: 1, zIndex: 999, showOnUI: true }); } } }); context.battle.blizzardAreas = []; let message = '暴风雪效果'; if (blizzardDetails.length > 0) { message += '（中心格子：' + blizzardDetails.join(', ') + '）'; } if (totalEnemies > 0) { message += '对'; if (enemyNames.length > 0) { message += enemyNames.join('、'); } message += '造成了' + totalDamage + '点伤害并使其冰冻'; } else { message += '没有对任何敌人造成伤害'; } return { message: message, success: true, showUIEffects: true }; }",
        "range": "area",
        "areaSize": 3,
        "requiresTarget": false,
        "showInUI": false
      },
      "blizzard": {
        "id": "blizzard",
        "name": "暴风雪",
        "description": "选择全局任意一个格子，以该格子为中心创造3*3格的暴风雪区域，对方的回合结束时对其中所有敌人造成当前攻击力1.5倍的伤害和1回合冰冻",
        "icon": "🌪️",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 3,
        "maxCharges": 3,
        "chargeCost": 2,
        "powerMultiplier": 1.5,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const targetPosition = context.targetPosition || { x: sourcePiece.x, y: sourcePiece.y }; const blizzardArea = { center: { x: targetPosition.x, y: targetPosition.y }, radius: 1, damage: damageValue, casterId: sourcePiece.instanceId }; if (!context.battle.blizzardAreas) { context.battle.blizzardAreas = []; } context.battle.blizzardAreas.push(blizzardArea); return { message: sourcePiece.templateId + '在(' + targetPosition.x + ',' + targetPosition.y + ')创造了暴风雪区域，将在对方回合结束时对3x3格范围内的敌人造成' + damageValue + '点伤害并使其冰冻', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '选择全局任意位置，创造3*3格的暴风雪区域，对方回合结束时对其中所有敌人造成' + damageValue + '点伤害（相当于攻击力150%）和1回合冰冻', expectedValues: { damage: damageValue } }; }",
        "range": "area",
        "areaSize": 3,
        "requiresTarget": true
      },
      "buff-attack": {
        "id": "buff-attack",
        "name": "攻击强化",
        "description": "提升自身攻击力1点，增强后续攻击效果",
        "icon": "💪",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 4,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) {\n  // 直接修改自身的攻击力\nsourcePiece.attack = sourcePiece.attack + 1;\n  \n  return {\n    message: sourcePiece.templateId + '的攻击力提升至' + sourcePiece.attack + '点',\n    success: true\n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 固定增益值\n  const buffValue = 1;\n  \n  return {\n    description: \"提升自身攻击力\" + buffValue + \"点，增强后续攻击效果\",\n    expectedValues: {\n      buff: buffValue\n    }\n  };\n}",
        "range": "self",
        "requiresTarget": false
      },
      "fireball": {
        "id": "fireball",
        "name": "火球术",
        "description": "对5格内一个敌人造成当前攻击力1.5倍的伤害火焰",
        "icon": "🔥",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1.5,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const targetEnemy = context.targetPiece; if (!targetEnemy) { return { message: sourcePiece.templateId + '需要选择一个目标', success: false }; } const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'magical', context.battle, context.skill.id); return { message: sourcePiece.templateId + '对' + targetEnemy.templateId + '造成' + damageResult.damage + '点伤害', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '对单个敌人造成' + damageValue + '点伤害（相当于攻击力150%）', expectedValues: { damage: damageValue } }; }",
        "range": "single",
        "requiresTarget": true
      },
      "freeze-prevent": {
        "id": "freeze-prevent",
        "name": "冰冻阻止",
        "description": "阻止被冰冻目标的移动和使用技能",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 0,
        "code": "function executeSkill(context) { if (!context.piece) { return { message: '没有目标', success: false }; } const isFrozen = context.piece.statusEffects && context.piece.statusEffects.some(effect => effect.type === 'freeze'); if (isFrozen) { const actionType = context.actionType || 'unknown'; if (actionType === 'move' || actionType === 'useSkill') { let actionText = actionType === 'move' ? '移动' : '使用技能'; return { message: context.piece.templateId + '被冰冻，无法' + actionText, success: false, preventAction: true, showUIEffect: true }; } } return { message: '目标未被冰冻或行动未被阻止', success: true }; }",
        "range": "self",
        "requiresTarget": false,
        "showInUI": false
      },
      "frostbolt": {
        "id": "frostbolt",
        "name": "冰霜箭",
        "description": "对5格内一个敌人造成当前攻击力的伤害和1回合冰冻",
        "icon": "❄️",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) { const targetEnemy = context.targetPiece; if (!targetEnemy) { return { message: sourcePiece.templateId + '需要选择一个目标', success: false }; } const damageValue = sourcePiece.attack * context.skill.powerMultiplier; const damageResult = dealDamage(sourcePiece, targetEnemy, damageValue, 'magical', context.battle, context.skill.id); if (typeof addStatusEffectById === 'function' && damageResult.success) { addStatusEffectById(targetEnemy.instanceId, 'freeze', 1); } return { message: sourcePiece.templateId + '对' + targetEnemy.templateId + '造成' + damageResult.damage + '点伤害并使其冰冻', success: true }; }",
        "previewCode": "function calculatePreview(piece, skillDef) { const damageValue = Math.round(piece.attack * skillDef.powerMultiplier); return { description: '对5格内一个敌人造成' + damageValue + '点伤害（相当于攻击力100%）和1回合冰冻', expectedValues: { damage: damageValue } }; }",
        "range": "single",
        "requiresTarget": true
      },
      "hand-cannon": {
        "id": "hand-cannon",
        "name": "手炮",
        "description": "对一个两格内敌人造成1点物理伤害",
        "icon": "🔫",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) {\n  const targetEnemy = context.targetPiece;\n  if (!targetEnemy) {\n    return { message: '请选择目标敌人', success: false };\n  }\n  const distance = calculate.distance(sourcePiece.position, targetEnemy.position);\n  if (distance > 2) {\n    return { message: '目标距离太远', success: false };\n  }\n  const damageValue = 1;\n  const damageResult = dealDamage(targetEnemy, damageValue, 'physical', context.skill.id);\n  return { message: sourcePiece.templateId + ' 使用手炮对 ' + targetEnemy.templateId + ' 造成 ' + damageResult.damage + ' 点伤害', success: damageResult.success };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  return { description: '对两格内的敌人造成1点物理伤害', expectedValues: { damage: 1, range: 2 } };\n}",
        "range": "single",
        "requiresTarget": true
      },
      "retaliation": {
        "id": "retaliation",
        "name": "反击",
        "description": "当受到伤害时，选择一个3格内的目标，造成100%攻击力的伤害",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) { return { message: '反击被动技能已激活', success: true } }",
        "range": "area",
        "areaSize": 3,
        "requiresTarget": false
      },
      "rocket-punch": {
        "id": "rocket-punch",
        "name": "火箭重拳",
        "description": "对一个方向冲刺三格，如果路径上有敌人将停留在第一个敌人的面前一格并对敌人造成自身攻击力100%的物理伤害",
        "icon": "🚀",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 1,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) {\n  const direction = context.targetDirection;\n  if (!direction) {\n    return { message: '请选择冲刺方向', success: false };\n  }\n  const startPos = sourcePiece.position;\n  let targetEnemy = null;\n  let stopPos = startPos;\n  for (let i = 1; i <= 3; i++) {\n    const nextPos = { x: startPos.x + direction.x * i, y: startPos.y + direction.y * i };\n    if (!context.battleMap.isPositionValid(nextPos)) {\n      break;\n    }\n    const pieceAtPos = context.battleMap.getPieceAt(nextPos);\n    if (pieceAtPos && pieceAtPos.faction !== sourcePiece.faction) {\n      targetEnemy = pieceAtPos;\n      stopPos = { x: startPos.x + direction.x * (i - 1), y: startPos.y + direction.y * (i - 1) };\n      break;\n    }\n    if (pieceAtPos) {\n      break;\n    }\n    stopPos = nextPos;\n  }\n  sourcePiece.position = stopPos;\n  if (targetEnemy) {\n    const damageValue = sourcePiece.attack * context.skill.powerMultiplier;\n    const damageResult = dealDamage(targetEnemy, damageValue, 'physical', context.skill.id);\n    return { message: sourcePiece.templateId + ' 冲刺并对 ' + targetEnemy.templateId + ' 造成 ' + damageResult.damage + ' 点伤害', success: damageResult.success };\n  }\n  return { message: sourcePiece.templateId + ' 向前冲刺', success: true };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  const damageValue = Math.round(piece.attack * skillDef.powerMultiplier);\n  return { description: '向前冲刺三格，对路径上第一个敌人造成' + damageValue + '点伤害（相当于攻击力100%）', expectedValues: { damage: damageValue } };\n}",
        "range": "direction",
        "requiresTarget": false
      },
      "shield": {
        "id": "shield",
        "name": "护盾术",
        "description": "为自身提供50点护盾，吸收伤害",
        "icon": "🛡️",
        "kind": "active",
        "type": "super",
        "cooldownTurns": 4,
        "maxCharges": 2,
        "chargeCost": 1,
        "powerMultiplier": 1,
        "actionPointCost": 2,
        "code": "function executeSkill(context) {\n  // 直接修改自身的护盾值\n  const shieldValue = 50;\n  if (!context.piece.shield) {\n    context.piece.shield = 0;\n  }\n  context.piece.shield += shieldValue;\n  \n  return {\n    message: \"护盾术生效，获得\" + shieldValue + \"点护盾\",\n    success: true\n  };\n}",
        "previewCode": "function calculatePreview(piece, skillDef) {\n  // 固定护盾值\n  const shieldValue = 50;\n  \n  return {\n    description: \"为自身提供\" + shieldValue + \"点护盾，吸收伤害\",\n    expectedValues: {\n      heal: shieldValue // 使用heal字段表示护盾值，因为它们都是正面效果 \n}\n  };\n}",
        "range": "self",
        "requiresTarget": false
      },
      "soul-harvest": {
        "id": "soul-harvest",
        "name": "灵魂收割",
        "description": "当一个敌方角色死亡时，获得等同于其最大生命值的最大生命值，并且增加其最大生命值的血量",
        "kind": "passive",
        "type": "normal",
        "cooldownTurns": 0,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "code": "function executeSkill(context) {\n  const reaper = context.piece;\n  const victim = context.targetPiece;\n  if (victim) {\n    const soulPower = victim.maxHp;\n    // 增加最大生命值\n    reaper.maxHp += soulPower;\n    // 增加当前生命值\n    reaper.currentHp += soulPower;\n    return { message: reaper.templateId + '从' + victim.templateId + '的死亡中汲取力量，生命值增加' + soulPower, success: true };\n  }\n  return { message: '没有灵魂可以收割', success: false };\n}",
        "range": "self",
        "requiresTarget": false
      },
      "teleport": {
        "id": "teleport",
        "name": "Teleport",
        "description": "传送到目标位置，冷却2回合",
        "icon": "🚀",
        "kind": "active",
        "type": "normal",
        "cooldownTurns": 2,
        "maxCharges": 0,
        "powerMultiplier": 1,
        "actionPointCost": 1,
        "code": "function executeSkill(context) { return { message: sourcePiece.templateId + '使用了传送技能', success: true } }",
        "previewCode": "function calculatePreview(piece, skillDef) { const areaSize = skillDef.areaSize || 5; return { description: \"传送到目标位置，冷却2回合（\" + areaSize + \"格范围内）\", expectedValues: {} }; }",
        "effects": [],
        "range": "area",
        "areaSize": 5,
        "requiresTarget": true
      },
      "test": {
        "id": "test",
        "name": "测试技能",
        "description": "测试技能描述",
        "code": "function test() {\n  return \"test\";\n}",
        "previewCode": "function preview() {\n  return \"preview\";\n}"
      }
    },
    "players": [
      {
        "playerId": "user_1771361118594_8536",
        "chargePoints": 0,
        "actionPoints": 1,
        "maxActionPoints": 2
      },
      {
        "playerId": "user_1771360858632_9522",
        "chargePoints": 0,
        "actionPoints": 2,
        "maxActionPoints": 2
      }
    ],
    "turn": {
      "currentPlayerId": "user_1771360858632_9522",
      "turnNumber": 4,
      "phase": "action",
      "actions": {
        "hasMoved": false,
        "hasUsedBasicSkill": false,
        "hasUsedChargeSkill": false
      }
    },
    "actions": [
      {
        "type": "useBasicSkill",
        "playerId": "user_1771361118594_8536",
        "turn": 1,
        "payload": {
          "message": "请选择冲刺方向",
          "skillId": "rocket-punch",
          "pieceId": "user_1771361118594_8536-3"
        }
      },
      {
        "type": "useBasicSkill",
        "playerId": "user_1771360858632_9522",
        "turn": 4,
        "payload": {
          "message": "jaina需要选择一个目标",
          "skillId": "frostbolt",
          "pieceId": "user_1771360858632_9522-2"
        }
      }
    ]
  }
}
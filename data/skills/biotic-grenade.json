{"id":"biotic-grenade","name":"ç”Ÿç‰©æ‰‹é›·","description":"é€‰æ‹©ä¸€ä¸ª2*2åŒºåŸŸçš„å·¦ä¸Šè§’æ ¼å­ï¼ˆ4æ ¼è·ç¦»å†…ï¼‰ï¼Œå¯¹å…¶ä¸­å‹å†›å›å¤4ç‚¹ç”Ÿå‘½å€¼ï¼Œå¯¹æ•Œå†›é€ æˆ1ç‚¹ä¼¤å®³å¹¶é™„åŠ ç¦ç–—æ•ˆæœä¸€å›åˆ","icon":"ğŸ’£","kind":"active","type":"normal","form":"throw","cooldownTurns":3,"maxCharges":0,"powerMultiplier":1,"actionPointCost":3,"code":"function executeSkill(context) { const sourcePiece = context.piece; const targetPosition = selectTarget({ type: 'grid', range: 4, filter: 'all' }); if (!targetPosition || targetPosition.needsTargetSelection) { return targetPosition; } const targetX = targetPosition.x; const targetY = targetPosition.y; let healCount = 0; let damageCount = 0; let messages = []; for (let dx = 0; dx < 2; dx++) { for (let dy = 0; dy < 2; dy++) { const checkX = targetX + dx; const checkY = targetY + dy; const targetPiece = select.getPieceAt(checkX, checkY); if (targetPiece && targetPiece.currentHp > 0) { const isAlly = targetPiece.ownerPlayerId === sourcePiece.ownerPlayerId; if (isAlly) { const healResult = healDamage(sourcePiece, targetPiece, 4, context.battle, context.skill.id); if (healResult.success) { healCount++; messages.push(targetPiece.name + 'å›å¤' + healResult.heal + 'ç‚¹ç”Ÿå‘½å€¼'); } } else { const damageResult = dealDamage(sourcePiece, targetPiece, 1, 'physical', context.battle, context.skill.id); if (damageResult.success) { damageCount++; const statusId = 'anti-heal-' + Date.now(); addStatusEffectById(targetPiece.instanceId, { id: statusId, type: 'anti-heal', currentDuration: 1, intensity: 1 }); addRuleById(targetPiece.instanceId, 'rule-anti-heal-block'); addSkillById(targetPiece.instanceId, 'anti-heal-block'); messages.push(targetPiece.name + 'å—åˆ°' + damageResult.damage + 'ç‚¹ä¼¤å®³å¹¶è¢«ç¦ç–—'); } } } } } return { message: 'ç”Ÿç‰©æ‰‹é›·ç”Ÿæ•ˆï¼š' + messages.join('ï¼Œ'), success: true }; }","previewCode":"function calculatePreview(piece, skillDef) { return { description: 'å¯¹2*2åŒºåŸŸå†…å‹å†›å›å¤4ç‚¹ç”Ÿå‘½å€¼ï¼Œå¯¹æ•Œå†›é€ æˆ1ç‚¹ä¼¤å®³å¹¶é™„åŠ ç¦ç–—æ•ˆæœ1å›åˆ', expectedValues: { heal: 4, damage: 1 } }; }","range":"area","areaSize":2,"requiresTarget":true}

{
  "id": "hellfire-shotgun",
  "name": "åœ°ç‹±ç«éœ°å¼¹æª",
  "description": "é€‰æ‹©ä¸€ä¸ªæ ¼å­ï¼Œå¯¹ç›¸å¯¹æ–¹å‘å‘å‡ºä¸€æ¬¡æ”»å‡»ï¼Œå¯¹è·¯å¾„ä¸Šç¬¬ä¸€ä¸ªç›®æ ‡é€ æˆæ”»å‡»åŠ›+(5-x)ç‚¹ä¼¤å®³ï¼ˆxä¸ºè·ç¦»ï¼‰",
  "icon": "ğŸ”«",
  "kind": "active",
  "type": "normal",
  "form": "projectile",
  "cooldownTurns": 1,
  "maxCharges": 0,
  "powerMultiplier": 1,
  "actionPointCost": 1,
  "range": "single",
  "requiresTarget": true,
  "code": "function executeSkill(context) { const sourcePiece = context.piece; const targetPosition = selectTarget({ type: 'grid', range: 5, filter: 'all' }); if (!targetPosition || targetPosition.needsTargetSelection) { return targetPosition; } const dx = targetPosition.x - sourcePiece.x; const dy = targetPosition.y - sourcePiece.y; if (dx !== 0 && dy !== 0) { return { message: 'å¿…é¡»é€‰æ‹©åŒè¡Œæˆ–åŒåˆ—çš„æ ¼å­', success: false }; } let dirX = 0, dirY = 0; if (Math.abs(dx) > Math.abs(dy)) { dirX = dx > 0 ? 1 : -1; } else { dirY = dy > 0 ? 1 : -1; } let currentX = sourcePiece.x + dirX; let currentY = sourcePiece.y + dirY; let distance = 1; let hitPiece = null; while (currentX >= 0 && currentX < battle.map.width && currentY >= 0 && currentY < battle.map.height) { const tile = battle.map.tiles.find(t => t.x === currentX && t.y === currentY); if (!tile || tile.props.bullet === false) { return { message: 'æ”»å‡»è¢«éšœç¢ç‰©é˜»æŒ¡', success: false }; } const pieceAtPos = battle.pieces.find(p => p.x === currentX && p.y === currentY && p.currentHp > 0); if (pieceAtPos) { hitPiece = pieceAtPos; break; } currentX += dirX; currentY += dirY; distance++; if (distance > 5) break; } if (!hitPiece) { return { message: 'è·¯å¾„ä¸Šæ²¡æœ‰ç›®æ ‡', success: false }; } const damageValue = sourcePiece.attack + (5 - distance); const damageResult = dealDamage(sourcePiece, hitPiece, damageValue, 'physical', battle, context.skill.id); return { message: sourcePiece.name + 'ä½¿ç”¨åœ°ç‹±ç«éœ°å¼¹æªå¯¹' + hitPiece.name + 'é€ æˆ' + damageResult.damage + 'ç‚¹ä¼¤å®³ï¼ˆè·ç¦»' + distance + 'æ ¼ï¼‰', success: true }; }",
  "previewCode": "function calculatePreview(piece, skillDef) { return { description: 'é€‰æ‹©æ–¹å‘å‘å°„æ”»å‡»ï¼Œå¯¹è·¯å¾„ä¸Šç¬¬ä¸€ä¸ªç›®æ ‡é€ æˆæ”»å‡»åŠ›+(5-è·ç¦»)ç‚¹ä¼¤å®³ï¼Œè·ç¦»è¶Šè¿‘ä¼¤å®³è¶Šé«˜', expectedValues: { damage: piece.attack + 4 } }; }"
}

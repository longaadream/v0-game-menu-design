{"id":"holy-light-descend","name":"圣光降临","description":"选择一个距离6或以内的地格，对该格内的友军回复7点生命值，对该格内敌人造成7点伤害；对该格距离1的地格，伤害和治疗量为4；对该格距离2的地格，伤害和治疗量为2","icon":"☀️","kind":"active","type":"super","cooldownTurns":3,"maxCharges":0,"powerMultiplier":1,"actionPointCost":5,"chargeCost":3,"code":"function executeSkill(context) { const sourcePiece = context.piece; const targetCell = selectTarget({ type: 'cell', range: 6 }); if (!targetCell || targetCell.needsTargetSelection) { return targetCell; } const battle = context.battle; const centerX = targetCell.x; const centerY = targetCell.y; const applyEffect = (x, y, value) => { const pieces = battle.getPiecesAtPosition(x, y); for (const piece of pieces) { if (piece.faction === sourcePiece.faction) { healDamage(sourcePiece, piece, value, battle, context.skill.id); } else { dealDamage(sourcePiece, piece, value, 'magical', battle, context.skill.id); } } }; applyEffect(centerX, centerY, 7); for (let dx = -1; dx <= 1; dx++) { for (let dy = -1; dy <= 1; dy++) { if (Math.abs(dx) + Math.abs(dy) === 1) { applyEffect(centerX + dx, centerY + dy, 4); } } } for (let dx = -2; dx <= 2; dx++) { for (let dy = -2; dy <= 2; dy++) { if (Math.abs(dx) + Math.abs(dy) === 2) { applyEffect(centerX + dx, centerY + dy, 2); } } } return { message: sourcePiece.name + '释放了圣光降临', success: true }; }","previewCode":"function calculatePreview(piece, skillDef) { return { description: '选择一个距离6或以内的地格，对该格内的友军回复7点生命值，对该格内敌人造成7点伤害；对该格距离1的地格，伤害和治疗量为4；对该格距离2的地格，伤害和治疗量为2', expectedValues: { centerHeal: 7, centerDamage: 7, adjacentHeal: 4, adjacentDamage: 4, distantHeal: 2, distantDamage: 2 } }; }","range":"area"}
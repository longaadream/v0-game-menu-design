# 技能日志标准

## 概述
本标准规定了游戏中技能战斗日志的格式和内容要求，确保所有技能的战斗日志都使用棋子的名称(name)而不是标识符(templateId)，以便提供更清晰、更友好的游戏体验。

## 标准要求

### 1. 使用棋子名称
- **必须使用** `sourcePiece.name` 或 `context.piece.name` 来获取棋子的显示名称
- **禁止使用** `sourcePiece.templateId` 或 `context.piece.templateId` 作为显示名称
- 示例：
  - ✅ 正确：`sourcePiece.name + '使用了技能'`
  - ❌ 错误：`sourcePiece.templateId + '使用了技能'`

### 2. 目标显示
- 当技能涉及到其他棋子时，同样使用目标棋子的 `name` 属性
- 示例：
  - ✅ 正确：`sourcePiece.name + '对' + targetEnemy.name + '造成伤害'`
  - ❌ 错误：`sourcePiece.templateId + '对' + targetEnemy.templateId + '造成伤害'`

### 3. 战斗日志格式
- 战斗日志应该清晰、简洁，包含以下信息：
  - 技能使用者的名称
  - 使用的技能名称
  - 技能效果（伤害、治疗、 buff 等）
  - 目标（如果有）
  - 最终结果

### 4. JSON 格式要求
- 技能文件中的代码字符串应该使用转义字符 `\n` 来表示换行，而不是直接换行
- 确保 JSON 文件的格式正确，避免语法错误

## 示例

### 正确的战斗日志示例
- "末日铁拳使用了火箭重拳，对1个敌人造成4点伤害，移动到(14,4)位置"
- "吉安娜使用了冰霜箭，对末日铁拳造成5点伤害并使其冰冻"
- "圣光骑士为吉安娜施加了圣盾"

### 错误的战斗日志示例
- "red-doomsday-fist使用了火箭重拳，对1个敌人造成4点伤害，移动到(14,4)位置"
- "jaina使用了冰霜箭，对red-doomsday-fist造成5点伤害并使其冰冻"
- "holy-knight为jaina施加了圣盾"

## 实现指南

### 修改现有技能
1. 打开技能文件（位于 `data/skills/` 目录）
2. 找到 `executeSkill` 函数中的战斗日志生成部分
3. 将所有 `templateId` 替换为 `name`
4. 确保 JSON 格式正确，使用转义字符 `\n` 表示换行

### 新增技能
1. 遵循本标准中的要求，使用 `name` 属性而不是 `templateId`
2. 确保战斗日志格式清晰、友好
3. 测试技能执行，验证战斗日志是否符合标准

## 验证方法
- 在游戏中使用技能，观察战斗日志是否显示棋子的名称而不是标识符
- 检查所有技能文件，确保没有使用 `templateId` 的情况
- 运行游戏，确保技能执行时没有错误

## 责任
所有技能开发者和维护者都有责任确保技能的战斗日志符合本标准，为玩家提供更好的游戏体验。